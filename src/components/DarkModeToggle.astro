<button
  class="relative ml-4 flex h-6 w-11 items-center rounded-full bg-neutral-200 p-1 dark:bg-neutral-700"
  id="mode-toggle"
  role="switch"
  type="button"
  tabindex="0"
  aria-checked="false"
  data-headlessui-state=""
>
  <span class="sr-only">Toggle dark mode</span>
  <span id="mode-circle" class="absolute h-4 w-4 rounded-full bg-primary-500 duration-300 dark:translate-x-5 dark:bg-primary-400"></span>
</button>

<script is:inline>
  document.querySelector("#mode-toggle")?.addEventListener("click", () => {
    const isDark = document.documentElement.classList.contains("dark");
    if (isDark) {
      document.documentElement.classList.remove("dark");
      document.documentElement.classList.add("light");
      localStorage.setItem("theme", "light");
    } else {
      document.documentElement.classList.remove("light");
      document.documentElement.classList.add("dark");
      localStorage.setItem("theme", "dark");
    }
  });
</script>
