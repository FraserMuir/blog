---
import DarkModeToggle from "./DarkModeToggle.astro";

const links = [
  { href: "/", label: "Home" },
  { href: "/blog", label: "Blog" },
];

const currentPath = Astro.url.pathname;
const activePathIndex = links.length - [...links].reverse().findIndex((link) => currentPath.startsWith(link.href)) - 1;
---

<header>
  <a class="skip-content" href="#main"> Skip to content</a>
  <nav>
    <ul class="unset nav-items">
      {
        links.map((link, i) => (
          <li>
            <a class={`unset animated-link ${i === activePathIndex ? "show" : ""}`} href={link.href}>
              {link.label}
            </a>
          </li>
        ))
      }
    </ul>
  </nav>
  <a class="social-icon" href="https://github.com" aria-label="link to GitHub">
    <svg viewBox="0 0 98 96" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"
      ><path
        d="M49 0A49 49 0 0 0 0 49.2a49 49 0 0 0 33.4 46.7c2.4.5 3.3-1 3.3-2.4l-.1-9c-13.6 3-16.4-6-16.4-6-2.2-5.7-5.4-7.2-5.4-7.2-4.4-3 .3-3 .3-3 5 .3 7.5 5 7.5 5C27 81 34 78.8 37 77.5c.4-3.2 1.7-5.4 3-6.6-10.8-1-22.2-5.4-22.2-24.3 0-5.4 2-9.8 5-13.2-.5-1.2-2.2-6.3.5-13 0 0 4-1.3 13.4 5a47 47 0 0 1 12.2-1.6 47 47 0 0 1 12.2 1.6c9.3-6.4 13.4-5 13.4-5 2.7 6.8 1 11.8.5 13 3.2 3.4 5 7.8 5 13.2 0 19-11.4 23-22.3 24.3 1.8 1.5 3.3 4.5 3.3 9v13.5c0 1.3 1 3 3.3 2.4a49 49 0 0 0 33.4-46.7A49 49 0 0 0 48.9 0z"
      ></path>
    </svg>
  </a>
  <a class="social-icon" href="https://twitter.com" aria-label="link to Twitter">
    <svg viewBox="0 0 248 204" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"
      ><path
        d="M222 51.3v6.5c0 66.7-50.8 143.7-143.7 143.7h0A143 143 0 0 1 1 178.8l12 .7c22.7 0 44.8-7.6 62.7-21.7-21.6-.4-40.6-14.5-47.2-35 7.6 1.5 15.4 1.2 22.8-1C27.8 117.2 11 96.5 11 72.5v-.6a50 50 0 0 0 22.9 6.3C11.6 63.3 4.7 33.8 18 10.7c25.6 31.6 63.5 50.7 104 52.8-4-17.5 1.5-36 14.6-48.2 20.3-19 52.3-18 71.4 2.2 11.3-2.2 22.2-6.4 32-12.3-3.8 11.7-11.7 21.6-22.2 28 10-1.2 19.8-4 29-8-6.8 10.2-15.3 19-25.2 26.2z"
      ></path>
    </svg>
  </a>
  <DarkModeToggle />
</header>

<style is:inline>
  header {
    display: flex;
    height: 6rem;
    align-items: center;
    gap: 1rem;
  }

  header > .skip-content {
    position: absolute;
    top: 10rem;
    left: 50%;
    z-index: 10;
    transform: translate(-50%, -300%);
    background-color: var(--page-accent-color);
    padding: 0.5rem 1rem;
    color: var(--page-text-color);
    transition: translate 0.2s ease-in-out;
  }

  header > .skip-content:focus {
    translate: translate(-50%, 0);
  }

  nav {
    flex: 1;
  }

  nav > .nav-items {
    display: flex;
    gap: 1rem;
  }

  .social-icon > svg {
    height: 1.75rem;
    width: 1.75rem;
    fill: var(--icon-color);
  }

  .social-icon:hover > svg {
    fill: var(--accent-color);
  }
</style>
